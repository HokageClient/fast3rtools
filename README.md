# Telegram Business Антиудалятор

Этот бот для Telegram Business отслеживает и пересылает удалённые сообщения (текст, фото, видео, голосовые, кружки и т.д.) из ваших личных чатов прямо в переписку с вами. Бот красиво форматирует уведомления и указывает username пользователя, который удалил сообщение.

---

## Как запустить

1. **Установите Python 3.7+**
2. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```
3. **Создайте Telegram-бота через BotFather** и получите токен.
4. **Включите Telegram Business** (Premium-подписка) и добавьте бота в раздел "Чат-боты" с доступом к личным чатам.
5. **Вставьте токен и свой user_id в файл `app.py`:**
   ```python
   BOT_TOKEN = 'ВАШ_ТОКЕН_БОТА'
   ADMIN_ID = ВАШ_USER_ID
   ```
   Узнать свой user_id можно через @userinfobot в Telegram.
6. **Запустите сервер:**
   ```bash
   python app.py
   ```
7. **Откройте доступ Telegram к вашему серверу (например, через ngrok):**
   ```bash
   ngrok http 5000
   ```
   Скопируйте выданный https-адрес.
8. **Установите webhook для Telegram-бота:**
   ```bash
   curl -F "url=https://ВАШ_NGROK_АДРЕС/webhook" https://api.telegram.org/botВАШ_ТОКЕН_БОТА/setWebhook
   ```

---

## Как это работает
- Бот принимает бизнес-события Telegram Business (новое, редактированное, удалённое сообщение).
- При удалении сообщения бот пересылает его вам с красивым форматированием и указанием username удалившего.
- Поддерживаются все основные типы сообщений: текст, фото, видео, голосовые, кружки, документы.

---

## Важно
- Бот работает только если добавлен в Telegram Business и имеет доступ к личным чатам.
- Для пересылки медиа используется file_id, поэтому пересылка происходит мгновенно.
- Если появятся новые типы сообщений — бот уведомит о неизвестном типе.

---

## Пример уведомления
```
<b>Сообщение удалено</b>
<b>Тип:</b> photo
<b>Чат:</b> Sergey
<b>Пользователь:</b> @username
[фото]
```

---

Если возникнут вопросы или потребуется доработка — пишите! 